{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anmog\\\\Documents\\\\Jala U Notes\\\\Personal Project\\\\client\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Login from './components/Login';\nimport MainMenu from './components/MainMenu';\nimport CashierView from './components/cashier/CashierView';\nimport PendingOrdersView from './components/PendingOrdersView';\nimport ReportsView from './components/ReportsView';\nimport EgresoModal from './components/EgresoModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [view, setView] = useState('menu');\n  const [egresoOpen, setEgresoOpen] = useState(false);\n  const [egresos, setEgresos] = useState([]);\n  const handleEgresoSave = egreso => {\n    setEgresos(prev => [...prev, {\n      ...egreso,\n      fecha: new Date().toLocaleString()\n    }]);\n  };\n  const handleLogout = () => {\n    setUser(null);\n    setView('menu');\n  };\n  if (!user) return /*#__PURE__*/_jsxDEV(Login, {\n    onLogin: setUser\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 21\n  }, this);\n\n  // Control de acceso por perfil\n  let allowedViews = [];\n  if (user.role === 'parrillero') {\n    allowedViews = ['pendientes'];\n  } else if (user.role === 'mostrador') {\n    allowedViews = ['orden', 'egreso'];\n  } else if (user.role === 'admin') {\n    allowedViews = ['orden', 'pendientes', 'reportes', 'egreso'];\n  }\n\n  // Redirigir si la vista no está permitida\n  if (!allowedViews.includes(view) && view !== 'menu') setView('menu');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 10,\n        right: 20,\n        zIndex: 2000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Usuario: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 24\n        }, this), \" (\", user.role, \") \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Cerrar sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), view === 'menu' && /*#__PURE__*/_jsxDEV(MainMenu, {\n      onSelect: v => {\n        if (allowedViews.includes(v)) {\n          if (v === 'egreso') setEgresoOpen(true);else setView(v);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), view === 'orden' && allowedViews.includes('orden') && /*#__PURE__*/_jsxDEV(CashierView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 62\n    }, this), view === 'pendientes' && allowedViews.includes('pendientes') && /*#__PURE__*/_jsxDEV(PendingOrdersView, {\n      onBack: () => setView('menu')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 72\n    }, this), view === 'reportes' && allowedViews.includes('reportes') && /*#__PURE__*/_jsxDEV(ReportsView, {\n      onBack: () => setView('menu'),\n      egresos: egresos\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 68\n    }, this), /*#__PURE__*/_jsxDEV(EgresoModal, {\n      open: egresoOpen,\n      onClose: () => setEgresoOpen(false),\n      onSave: handleEgresoSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"drJE/H45rpnMaQqMjtxTrNY8mDs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Login","MainMenu","CashierView","PendingOrdersView","ReportsView","EgresoModal","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","view","setView","egresoOpen","setEgresoOpen","egresos","setEgresos","handleEgresoSave","egreso","prev","fecha","Date","toLocaleString","handleLogout","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","allowedViews","role","includes","children","style","position","top","right","zIndex","username","onClick","onSelect","v","onBack","open","onClose","onSave","_c","$RefreshReg$"],"sources":["C:/Users/anmog/Documents/Jala U Notes/Personal Project/client/src/App.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Login from './components/Login';\r\nimport MainMenu from './components/MainMenu';\r\nimport CashierView from './components/cashier/CashierView';\r\nimport PendingOrdersView from './components/PendingOrdersView';\r\nimport ReportsView from './components/ReportsView';\r\nimport EgresoModal from './components/EgresoModal';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [view, setView] = useState('menu');\r\n  const [egresoOpen, setEgresoOpen] = useState(false);\r\n  const [egresos, setEgresos] = useState([]);\r\n\r\n  const handleEgresoSave = (egreso) => {\r\n    setEgresos((prev) => [...prev, { ...egreso, fecha: new Date().toLocaleString() }]);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setUser(null);\r\n    setView('menu');\r\n  };\r\n\r\n  if (!user) return <Login onLogin={setUser} />;\r\n\r\n  // Control de acceso por perfil\r\n  let allowedViews = [];\r\n  if (user.role === 'parrillero') {\r\n    allowedViews = ['pendientes'];\r\n  } else if (user.role === 'mostrador') {\r\n    allowedViews = ['orden', 'egreso'];\r\n  } else if (user.role === 'admin') {\r\n    allowedViews = ['orden', 'pendientes', 'reportes', 'egreso'];\r\n  }\r\n\r\n  // Redirigir si la vista no está permitida\r\n  if (!allowedViews.includes(view) && view !== 'menu') setView('menu');\r\n\r\n  return (\r\n    <>\r\n      <div style={{ position: 'absolute', top: 10, right: 20, zIndex: 2000 }}>\r\n        <span>Usuario: <b>{user.username}</b> ({user.role}) </span>\r\n        <button onClick={handleLogout}>Cerrar sesión</button>\r\n      </div>\r\n      {view === 'menu' && (\r\n        <MainMenu\r\n          onSelect={(v) => {\r\n            if (allowedViews.includes(v)) {\r\n              if (v === 'egreso') setEgresoOpen(true);\r\n              else setView(v);\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n      {view === 'orden' && allowedViews.includes('orden') && <CashierView />}\r\n      {view === 'pendientes' && allowedViews.includes('pendientes') && <PendingOrdersView onBack={() => setView('menu')} />}\r\n      {view === 'reportes' && allowedViews.includes('reportes') && <ReportsView onBack={() => setView('menu')} egresos={egresos} />}\r\n      <EgresoModal open={egresoOpen} onClose={() => setEgresoOpen(false)} onSave={handleEgresoSave} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}